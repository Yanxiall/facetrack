<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>remote monitoring</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="./execute.js"></script>
    <style>
     body{
      
     }
    </style>
</head>
<body>
<div class="main container">
    <div class="card" style="border:none; background-color:transparent;">
        <div class="card-header text-center" style="border:none; background-color:transparent;" >
            <h3 class="card-title">Remote Monitoring </h3>
        </div>
        <div class="card-footer" style="border:none; background-color:transparent;">
            <input type="button"  value="connect"   onclick="Connect()"/>
            <input type="button"  value="quit"  onclick="Quit()"/>
			<input type="button"  value="suspend"  onclick="Suspend()"/>
        </div>
    </div>
    <div class="text-center">
        <img id="image" src="2.png" alt="video" class="img-fluid"/>
    </div>
    <div class="keyboard">
      <table  align="center">
       <tr>
         <td colspan="2" style="text-align: center" >
            <input id="btnUp" type="button" value="Up" onclick="Button_up()" />
         </td>
       </tr>
       <tr>
         <td style="text-align: center">
            <input id="btnLeft" type="button" value="Left"    onclick="Button_left()" />
         </td>
         <td style="text-align: center">
            <input id="btnRight" type="button" value="Right"   onclick="Button_right()" />
         </td>
       </tr>
       <tr>
        <td colspan="2" style="text-align: center">
            <input id="btnDown" type="button" value="Down" onclick="Button_down()" />
        </td>
        </tr>
        </table>
    </div>
</div>
<script language="javascript" type="text/javascript">
	    var ws;
	    function Connect()
	    {
		   ws = new WebSocket("ws://www.yanxia.eu:8080/");

		   ws.onopen = function()
		   {
			// Web Socket is connected, send data using send()
			 alert("connection is made");
		   };
		   ws.onmessage = function (evt)
		   {
			 //alert("pic is received");
			 document.getElementById('image').src='data:image/jpeg;charset=utf-8;base64,'+ evt.data;
		   }
		   ws.onclose = function()
		   {
			// websocket is closed.
			 alert("Connection is closed...");
		   };
		   ws.onerror = function(e){
			 alert("Error...");
		  };
	    }
		
	    function Quit()
	    {
		   ws.send("quit");
	    }
		function Suspend()
		{
		   ws.send("halt");
		}
	    function Button_left()
	    {
		   ws.send("a");
	    }
	    function Button_right()
	    {
		   ws.send("d");
	    }
	    function Button_up()
	    {
		   ws.send("w");
	    }
	    function Button_down()
	    {
		   ws.send("s");
	    }
</script>
</body>
</html>
